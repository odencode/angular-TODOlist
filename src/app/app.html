<div class="container">
  <h1 class="my-4 text-center">TODO List</h1>

  <div class="row">
    <div class="col-md-4">
      <form >
        <input type="hidden" name="id" [(ngModel)]="newTask.id">

        <div class="mb-3">
          <label for="title" class="form-label">Título</label>
          <input type="text" class="form-control" id="title" name="title" [(ngModel)]="newTask.title" required>
        </div>
        <div class="mb-3">
          <label for="description" class="form-label">Descripción</label>
          <textarea name="description" id="description" class="form-control" [(ngModel)]="newTask.description"></textarea>
        </div>
        <div class="form-check mb-3">
          <input type="checkbox" class="form-check-input" id="completed" name="completed" [(ngModel)]="newTask.completed">
          <label class="form-check-label" for="completed">Completada</label>
        </div>
        <div class="d-grid">
          <button type="button" class="btn btn-primary" (click)="addTask()">Agregar Tarea</button>
          <button type="button" class="btn btn-outline-secondary mt-2" (click)="cleanForm()">Limpiar</button>
        </div>
      </form>

    </div>
    <div class="col-md-8">
      <div class="row">
        <div class="col-md-12 text-center my-3">
          <h2>Lista de Tareas</h2>
        </div>
      </div>
      <ul class="list-group">
        <li *ngFor="let task of taskList" class="list-group-item d-flex justify-content-between align-items-center">
          <div (click)="selectTask(task)">
            <h5 [class.text-decoration-line-through]="task.completed">{{ task.title }}</h5>
            <p [class.text-decoration-line-through]="task.completed">{{ task.description }}</p>
          </div>
          <div class="d-grid gap-2 d-md-flex justify-content-md-end align-items-center">
            <span class="badge bg-primary rounded-pill" (click)="toggleTaskCompletion(task)" style="cursor: pointer;">
              {{ task.completed ? 'Completed' : 'Pending' }}
            </span>
            <button type="button" class="btn btn-danger btn-sm ms-2" (click)="deleteTask(task.id)">Eliminar</button>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>